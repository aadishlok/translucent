{"ast":null,"code":"var _jsxFileName = \"/Users/aadishlok/VS Code/translucent-take-home-interviews/frontend_takehome/src/utils/utils.tsx\";\nimport React from 'react';\nimport TranslucentBarChart from '../components/TranslucentBarChart.tsx';\nimport TranslucentPieChart from '../components/TranslucentPieChart.tsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar CHART_TYPE = /*#__PURE__*/function (CHART_TYPE) {\n  CHART_TYPE[CHART_TYPE[\"BAR\"] = 0] = \"BAR\";\n  CHART_TYPE[CHART_TYPE[\"PIE\"] = 1] = \"PIE\";\n  return CHART_TYPE;\n}(CHART_TYPE || {});\nconst MAP_CHART_TYPE_TO_COMPONENT = {\n  [CHART_TYPE.BAR]: TranslucentBarChart,\n  [CHART_TYPE.PIE]: TranslucentPieChart\n};\nconst RADIAN = Math.PI / 180;\nconst getTotalsByField = ({\n  data,\n  field\n}) => {\n  const counts = data.reduce((acc, item) => {\n    var _acc$item$field;\n    acc[item[field]] = ((_acc$item$field = acc[item[field]]) !== null && _acc$item$field !== void 0 ? _acc$item$field : 0) + 1;\n    return acc;\n  }, {});\n  return Object.entries(counts).map(([field, count]) => ({\n    field,\n    value: count\n  }));\n};\nconst renderCustomizedLabel = ({\n  cx,\n  cy,\n  midAngle,\n  innerRadius,\n  outerRadius,\n  percent,\n  name\n}) => {\n  if (cx == null || cy == null || innerRadius == null || outerRadius == null) {\n    return null;\n  }\n  const radius = Number(outerRadius) + 20;\n  const x = Number(cx) + radius * Math.cos(-midAngle * RADIAN);\n  const y = Number(cy) + radius * Math.sin(-midAngle * RADIAN);\n  return /*#__PURE__*/_jsxDEV(\"text\", {\n    x: x,\n    y: y,\n    fill: \"#333\",\n    textAnchor: Number(x) > Number(cx) ? \"start\" : \"end\",\n    dominantBaseline: \"central\",\n    style: {\n      fontSize: 12,\n      fontWeight: 500\n    },\n    children: `${name} (${((percent !== null && percent !== void 0 ? percent : 0) * 100).toFixed(0)}%)`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\nexport { MAP_CHART_TYPE_TO_COMPONENT, CHART_TYPE, getTotalsByField, renderCustomizedLabel };","map":{"version":3,"names":["React","TranslucentBarChart","TranslucentPieChart","jsxDEV","_jsxDEV","CHART_TYPE","MAP_CHART_TYPE_TO_COMPONENT","BAR","PIE","RADIAN","Math","PI","getTotalsByField","data","field","counts","reduce","acc","item","_acc$item$field","Object","entries","map","count","value","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","name","radius","Number","x","cos","y","sin","fill","textAnchor","dominantBaseline","style","fontSize","fontWeight","children","toFixed","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/aadishlok/VS Code/translucent-take-home-interviews/frontend_takehome/src/utils/utils.tsx"],"sourcesContent":["import React from 'react';\nimport type { PieLabelRenderProps } from 'recharts';\nimport TranslucentBarChart from '../components/TranslucentBarChart.tsx';\nimport TranslucentPieChart from '../components/TranslucentPieChart.tsx';\n\ntype DenialsData = {\n    id: string,\n    department: string,\n    amount: number,\n    reason: string,\n    date: string,\n    payer: string,\n}\n\ntype ChartData = {\n    data: DenialsData[],\n    field: keyof DenialsData,\n}\n\nenum CHART_TYPE {\n  'BAR',\n  'PIE'\n}\n\nconst MAP_CHART_TYPE_TO_COMPONENT = {\n  [CHART_TYPE.BAR]: TranslucentBarChart,\n  [CHART_TYPE.PIE]: TranslucentPieChart,\n}\n\nconst RADIAN = Math.PI / 180;\n\nconst getTotalsByField = ({data, field}: ChartData) => {\n   const counts = data.reduce<Record<string, number>>((acc, item) => {\n    acc[item[field]] = (acc[item[field]] ?? 0) + 1\n    return acc\n  }, {})\n\n  return Object.entries(counts).map(([field, count]) => ({\n    field,\n    value: count,\n  }));\n}\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, name }: PieLabelRenderProps) => {\n  if (cx == null || cy == null || innerRadius == null || outerRadius == null) {\n    return null;\n  }\n  \n  const radius = Number(outerRadius) + 20;\n  const x = Number(cx) + radius * Math.cos(-midAngle * RADIAN);\n  const y = Number(cy) + radius * Math.sin(-midAngle * RADIAN);\n\n  return (\n    <text\n      x={x}\n      y={y}\n      fill=\"#333\"\n      textAnchor={Number(x) > Number(cx) ? \"start\" : \"end\"}\n      dominantBaseline=\"central\"\n      style={{ fontSize: 12, fontWeight: 500 }}\n    >\n      {`${name} (${((percent ?? 0) * 100).toFixed(0)}%)`}\n    </text>\n  );\n};\n\nexport {\n  MAP_CHART_TYPE_TO_COMPONENT,\n  CHART_TYPE,\n  DenialsData,\n  ChartData,\n  getTotalsByField,\n  renderCustomizedLabel\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,mBAAmB,MAAM,uCAAuC;AACvE,OAAOC,mBAAmB,MAAM,uCAAuC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,IAgBnEC,UAAU,0BAAVA,UAAU;EAAVA,UAAU,CAAVA,UAAU;EAAVA,UAAU,CAAVA,UAAU;EAAA,OAAVA,UAAU;AAAA,EAAVA,UAAU;AAKf,MAAMC,2BAA2B,GAAG;EAClC,CAACD,UAAU,CAACE,GAAG,GAAGN,mBAAmB;EACrC,CAACI,UAAU,CAACG,GAAG,GAAGN;AACpB,CAAC;AAED,MAAMO,MAAM,GAAGC,IAAI,CAACC,EAAE,GAAG,GAAG;AAE5B,MAAMC,gBAAgB,GAAGA,CAAC;EAACC,IAAI;EAAEC;AAAgB,CAAC,KAAK;EACpD,MAAMC,MAAM,GAAGF,IAAI,CAACG,MAAM,CAAyB,CAACC,GAAG,EAAEC,IAAI,KAAK;IAAA,IAAAC,eAAA;IACjEF,GAAG,CAACC,IAAI,CAACJ,KAAK,CAAC,CAAC,GAAG,EAAAK,eAAA,GAACF,GAAG,CAACC,IAAI,CAACJ,KAAK,CAAC,CAAC,cAAAK,eAAA,cAAAA,eAAA,GAAI,CAAC,IAAI,CAAC;IAC9C,OAAOF,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;EAEN,OAAOG,MAAM,CAACC,OAAO,CAACN,MAAM,CAAC,CAACO,GAAG,CAAC,CAAC,CAACR,KAAK,EAAES,KAAK,CAAC,MAAM;IACrDT,KAAK;IACLU,KAAK,EAAED;EACT,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAME,qBAAqB,GAAGA,CAAC;EAAEC,EAAE;EAAEC,EAAE;EAAEC,QAAQ;EAAEC,WAAW;EAAEC,WAAW;EAAEC,OAAO;EAAEC;AAA0B,CAAC,KAAK;EACpH,IAAIN,EAAE,IAAI,IAAI,IAAIC,EAAE,IAAI,IAAI,IAAIE,WAAW,IAAI,IAAI,IAAIC,WAAW,IAAI,IAAI,EAAE;IAC1E,OAAO,IAAI;EACb;EAEA,MAAMG,MAAM,GAAGC,MAAM,CAACJ,WAAW,CAAC,GAAG,EAAE;EACvC,MAAMK,CAAC,GAAGD,MAAM,CAACR,EAAE,CAAC,GAAGO,MAAM,GAAGvB,IAAI,CAAC0B,GAAG,CAAC,CAACR,QAAQ,GAAGnB,MAAM,CAAC;EAC5D,MAAM4B,CAAC,GAAGH,MAAM,CAACP,EAAE,CAAC,GAAGM,MAAM,GAAGvB,IAAI,CAAC4B,GAAG,CAAC,CAACV,QAAQ,GAAGnB,MAAM,CAAC;EAE5D,oBACEL,OAAA;IACE+B,CAAC,EAAEA,CAAE;IACLE,CAAC,EAAEA,CAAE;IACLE,IAAI,EAAC,MAAM;IACXC,UAAU,EAAEN,MAAM,CAACC,CAAC,CAAC,GAAGD,MAAM,CAACR,EAAE,CAAC,GAAG,OAAO,GAAG,KAAM;IACrDe,gBAAgB,EAAC,SAAS;IAC1BC,KAAK,EAAE;MAAEC,QAAQ,EAAE,EAAE;MAAEC,UAAU,EAAE;IAAI,CAAE;IAAAC,QAAA,EAExC,GAAGb,IAAI,KAAK,CAAC,CAACD,OAAO,aAAPA,OAAO,cAAPA,OAAO,GAAI,CAAC,IAAI,GAAG,EAAEe,OAAO,CAAC,CAAC,CAAC;EAAI;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9C,CAAC;AAEX,CAAC;AAED,SACE5C,2BAA2B,EAC3BD,UAAU,EAGVO,gBAAgB,EAChBa,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}